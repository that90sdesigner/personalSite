---
// blogpost.astro
/* this component lists all the blog posts. */
import '../styles/global.css';
const { date, url, title } = Astro.props;
// imports all files that end with .md in content collection
const allPosts = await Astro.glob('../pages/posts/*.md');
allPosts.sort((a, b) => Date.parse(b.frontmatter.date) - Date.parse(a.frontmatter.date));

---

<html lang="en">

<body>
    <ul>
        {allPosts.map((post) => {
            const filename = post.file.split('/').pop().replace('.md', '');
            return (
                <article class="post-list">
                    <li>
                        <article class="post">
                            <span class="post-list-date-stamp">{post.frontmatter.date}</span>
                            <a href={post.url} transition:persist>
                                <p class="post-title" transition:name={`post-title-${filename}`} transition:animate="fade">{post.frontmatter.title}</p>
                            </a>
                        </article>
                    </li>
                </article>
            );
        })}
    </ul>
</body>
</html>

